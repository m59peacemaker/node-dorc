const os = require('os');
const test = require('tape');
const makeArgs = require('./make-build-args');

test('no config results in basic build args', t => {
  t.plan(1);
  t.equal(makeArgs().join(' '), 'build ./');
});

test('file and tags', t => {
  t.plan(1);
  t.equal(makeArgs({
    file: './Dockerfile',
    tags: ['foo']
  }).join(' '), 'build --file ./Dockerfile --tag foo ./');
});

test('context', t => {
  t.plan(1);
  t.equal(makeArgs({
    context: './foo'
  }).join(' '), 'build ./foo');
});

test('context expands ~', t => {
  t.plan(1);
  t.equal(makeArgs({
    context: '~/foo'
  }).join(' '), `build ${ os.homedir() }/foo`);
});

test('file expands ~', t => {
  t.plan(1);
  t.equal(makeArgs({
    file: '~/DAT-FILE'
  }).join(' '), `build --file ${ os.homedir() }/DAT-FILE ./`);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jbWRzL2J1aWxkL21ha2UtYnVpbGQtYXJncy50ZXN0LmpzIl0sIm5hbWVzIjpbIm9zIiwicmVxdWlyZSIsInRlc3QiLCJtYWtlQXJncyIsInQiLCJwbGFuIiwiZXF1YWwiLCJqb2luIiwiZmlsZSIsInRhZ3MiLCJjb250ZXh0IiwiaG9tZWRpciJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsS0FBS0MsUUFBUSxJQUFSLENBQVg7QUFDQSxNQUFNQyxPQUFPRCxRQUFRLE1BQVIsQ0FBYjtBQUNBLE1BQU1FLFdBQVdGLFFBQVEsbUJBQVIsQ0FBakI7O0FBRUFDLEtBQUssdUNBQUwsRUFBOENFLEtBQUs7QUFDakRBLElBQUVDLElBQUYsQ0FBTyxDQUFQO0FBQ0FELElBQUVFLEtBQUYsQ0FDRUgsV0FBV0ksSUFBWCxDQUFnQixHQUFoQixDQURGLEVBRUUsVUFGRjtBQUlELENBTkQ7O0FBUUFMLEtBQUssZUFBTCxFQUFzQkUsS0FBSztBQUN6QkEsSUFBRUMsSUFBRixDQUFPLENBQVA7QUFDQUQsSUFBRUUsS0FBRixDQUNFSCxTQUFTO0FBQ1BLLFVBQU0sY0FEQztBQUVQQyxVQUFNLENBQUMsS0FBRDtBQUZDLEdBQVQsRUFHR0YsSUFISCxDQUdRLEdBSFIsQ0FERixFQUtFLHdDQUxGO0FBT0QsQ0FURDs7QUFXQUwsS0FBSyxTQUFMLEVBQWdCRSxLQUFLO0FBQ25CQSxJQUFFQyxJQUFGLENBQU8sQ0FBUDtBQUNBRCxJQUFFRSxLQUFGLENBQ0VILFNBQVM7QUFDUE8sYUFBUztBQURGLEdBQVQsRUFFR0gsSUFGSCxDQUVRLEdBRlIsQ0FERixFQUlFLGFBSkY7QUFNRCxDQVJEOztBQVVBTCxLQUFLLG1CQUFMLEVBQTBCRSxLQUFLO0FBQzdCQSxJQUFFQyxJQUFGLENBQU8sQ0FBUDtBQUNBRCxJQUFFRSxLQUFGLENBQ0VILFNBQVM7QUFDUE8sYUFBUztBQURGLEdBQVQsRUFFR0gsSUFGSCxDQUVRLEdBRlIsQ0FERixFQUlHLFVBQVFQLEdBQUdXLE9BQUgsRUFBYSxPQUp4QjtBQU1ELENBUkQ7O0FBVUFULEtBQUssZ0JBQUwsRUFBdUJFLEtBQUs7QUFDMUJBLElBQUVDLElBQUYsQ0FBTyxDQUFQO0FBQ0FELElBQUVFLEtBQUYsQ0FDRUgsU0FBUztBQUNQSyxVQUFNO0FBREMsR0FBVCxFQUVHRCxJQUZILENBRVEsR0FGUixDQURGLEVBSUcsaUJBQWVQLEdBQUdXLE9BQUgsRUFBYSxlQUovQjtBQU1ELENBUkQiLCJmaWxlIjoibWFrZS1idWlsZC1hcmdzLnRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcyA9IHJlcXVpcmUoJ29zJylcbmNvbnN0IHRlc3QgPSByZXF1aXJlKCd0YXBlJylcbmNvbnN0IG1ha2VBcmdzID0gcmVxdWlyZSgnLi9tYWtlLWJ1aWxkLWFyZ3MnKVxuXG50ZXN0KCdubyBjb25maWcgcmVzdWx0cyBpbiBiYXNpYyBidWlsZCBhcmdzJywgdCA9PiB7XG4gIHQucGxhbigxKVxuICB0LmVxdWFsKFxuICAgIG1ha2VBcmdzKCkuam9pbignICcpLFxuICAgICdidWlsZCAuLydcbiAgKVxufSlcblxudGVzdCgnZmlsZSBhbmQgdGFncycsIHQgPT4ge1xuICB0LnBsYW4oMSlcbiAgdC5lcXVhbChcbiAgICBtYWtlQXJncyh7XG4gICAgICBmaWxlOiAnLi9Eb2NrZXJmaWxlJyxcbiAgICAgIHRhZ3M6IFsnZm9vJ11cbiAgICB9KS5qb2luKCcgJyksXG4gICAgJ2J1aWxkIC0tZmlsZSAuL0RvY2tlcmZpbGUgLS10YWcgZm9vIC4vJ1xuICApXG59KVxuXG50ZXN0KCdjb250ZXh0JywgdCA9PiB7XG4gIHQucGxhbigxKVxuICB0LmVxdWFsKFxuICAgIG1ha2VBcmdzKHtcbiAgICAgIGNvbnRleHQ6ICcuL2ZvbydcbiAgICB9KS5qb2luKCcgJyksXG4gICAgJ2J1aWxkIC4vZm9vJ1xuICApXG59KVxuXG50ZXN0KCdjb250ZXh0IGV4cGFuZHMgficsIHQgPT4ge1xuICB0LnBsYW4oMSlcbiAgdC5lcXVhbChcbiAgICBtYWtlQXJncyh7XG4gICAgICBjb250ZXh0OiAnfi9mb28nXG4gICAgfSkuam9pbignICcpLFxuICAgIGBidWlsZCAke29zLmhvbWVkaXIoKX0vZm9vYFxuICApXG59KVxuXG50ZXN0KCdmaWxlIGV4cGFuZHMgficsIHQgPT4ge1xuICB0LnBsYW4oMSlcbiAgdC5lcXVhbChcbiAgICBtYWtlQXJncyh7XG4gICAgICBmaWxlOiAnfi9EQVQtRklMRSdcbiAgICB9KS5qb2luKCcgJyksXG4gICAgYGJ1aWxkIC0tZmlsZSAke29zLmhvbWVkaXIoKX0vREFULUZJTEUgLi9gXG4gIClcbn0pXG4iXX0=